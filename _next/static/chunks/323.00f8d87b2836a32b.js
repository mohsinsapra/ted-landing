"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{3573:function(e,t,n){n.d(t,{Z:function(){return w}});var r,o,i=n(2265);let u=e=>{let t;let n=new Set,r=(e,r)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>u,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,i);return i},l=e=>e?u(e):u;var s=n(5195);let{useDebugValue:c}=i,{useSyncExternalStoreWithSelector:a}=s,f=!1,d=e=>e,v=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?l(e):e,n=(e,n)=>(function(e,t=d,n){n&&!f&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),f=!0);let r=a(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c(r),r})(t,e,n);return Object.assign(n,t),n},h=e=>e?v(e):v,p="undefined"!=typeof window&&(null!=(r=window.document)&&r.createElement||(null==(o=window.navigator)?void 0:o.product)==="ReactNative")?i.useLayoutEffect:i.useEffect;function w(){let e=h(e=>({current:[],version:0,set:e}));return{In:({children:t})=>{let n=e(e=>e.set),r=e(e=>e.version);return p(()=>{n(e=>({version:e.version+1}))},[]),p(()=>(n(({current:e})=>({current:[...e,t]})),()=>n(({current:e})=>({current:e.filter(e=>e!==t)}))),[t,r]),null},Out:()=>{let t=e(e=>e.current);return i.createElement(i.Fragment,null,t)}}}},4369:function(e,t,n){var r=n(2265),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,u=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var a="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,a=r[1];return l(function(){o.value=n,o.getSnapshot=t,c(o)&&a({inst:o})},[e,n,t]),u(function(){return c(o)&&a({inst:o}),e(function(){c(o)&&a({inst:o})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:a},2860:function(e,t,n){var r=n(2265),o=n(2558),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},u=o.useSyncExternalStore,l=r.useRef,s=r.useEffect,c=r.useMemo,a=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var f=l(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;var v=u(e,(f=c(function(){function e(e){if(!s){if(s=!0,u=e,e=r(e),void 0!==o&&d.hasValue){var t=d.value;if(o(t,e))return l=t}return l=e}if(t=l,i(u,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(u=e,t):(u=e,l=n)}var u,l,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]))[0],f[1]);return s(function(){d.hasValue=!0,d.value=v},[v]),a(v),v}},2558:function(e,t,n){e.exports=n(4369)},5195:function(e,t,n){e.exports=n(2860)},8535:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r,o,i=n(7437),u=n(3871),l=n(2265),s=n(1448);function c(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}let a=["x","y","top","bottom","left","right","width","height"],f=(e,t)=>a.every(n=>e[n]===t[n]);var d=Object.defineProperty,v=Object.defineProperties,h=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))b.call(t,n)&&m(e,n,t[n]);return e},y=(e,t)=>v(e,h(t));function g(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"!=typeof window&&((null==(r=window.document)?void 0:r.createElement)||(null==(o=window.navigator)?void 0:o.product)==="ReactNative")?l.useLayoutEffect:l.useEffect;let S=console.error;console.error=function(){let e=[...arguments].join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=S;return}return S.apply(this,arguments)};let x=g(l.createContext(null));class j extends l.Component{render(){return l.createElement(x.Provider,{value:this._reactInternals},this.props.children)}}n(9971),n(7975),n(6697);let O=l.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:o,events:a=u.c,eventSource:d,eventPrefix:v,shadows:h,linear:p,flat:w,legacy:b,orthographic:m,frameloop:S,dpr:O,performance:C,raycaster:z,camera:R,scene:L,onPointerMissed:P,onCreated:D,...T},H){l.useMemo(()=>(0,u.e)(s),[]);let M=function(){let e=function(){let e=function(){let e=l.useContext(x);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=l.useId();return l.useMemo(()=>{for(let n of[e,null==e?void 0:e.alternate]){if(!n)continue;let e=function e(t,n,r){if(!t)return;if(!0===r(t))return t;let o=n?t.return:t.child;for(;o;){let t=e(o,n,r);if(t)return t;o=n?null:o.sibling}}(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}(),[t]=l.useState(()=>new Map);t.clear();let n=e;for(;n;){if(n.type&&"object"==typeof n.type){let e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==x&&!t.has(e)&&t.set(e,l.useContext(g(e)))}n=n.return}return t}();return l.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>l.createElement(t,null,l.createElement(n.Provider,y(E({},r),{value:e.get(n)}))),e=>l.createElement(j,E({},e))),[e])}(),[I,_]=function({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){var o;let i=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[u,s]=(0,l.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=(0,l.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u,orientationHandler:null}),d=e?"number"==typeof e?e:e.scroll:null,v=e?"number"==typeof e?e:e.resize:null,h=(0,l.useRef)(!1);(0,l.useEffect)(()=>(h.current=!0,()=>void(h.current=!1)));let[p,w,b]=(0,l.useMemo)(()=>{let e=()=>{if(!a.current.element)return;let{left:e,top:t,width:n,height:o,bottom:i,right:u,x:l,y:c}=a.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:o,bottom:i,right:u,x:l,y:c};a.current.element instanceof HTMLElement&&r&&(d.height=a.current.element.offsetHeight,d.width=a.current.element.offsetWidth),Object.freeze(d),h.current&&!f(a.current.lastBounds,d)&&s(a.current.lastBounds=d)};return[e,v?c(e,v):e,d?c(e,d):e]},[s,r,d,v]);function m(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",b,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function E(){a.current.element&&(a.current.resizeObserver=new i(b),a.current.resizeObserver.observe(a.current.element),t&&a.current.scrollContainers&&a.current.scrollContainers.forEach(e=>e.addEventListener("scroll",b,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}return o=!!t,(0,l.useEffect)(()=>{if(o)return window.addEventListener("scroll",b,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",b,!0)},[b,o]),(0,l.useEffect)(()=>(window.addEventListener("resize",w),()=>void window.removeEventListener("resize",w)),[w]),(0,l.useEffect)(()=>{m(),E()},[t,b,w]),(0,l.useEffect)(()=>m,[]),[e=>{e&&e!==a.current.element&&(m(),a.current.element=e,a.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:o,overflowY:i}=window.getComputedStyle(t);return[r,o,i].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),E())},u,p]}({scroll:!0,debounce:{scroll:50,resize:0},...n}),k=l.useRef(null),W=l.useRef(null);l.useImperativeHandle(H,()=>k.current);let F=(0,u.u)(P),[A,B]=l.useState(!1),[V,N]=l.useState(!1);if(A)throw A;if(V)throw V;let X=l.useRef(null);(0,u.a)(()=>{let t=k.current;_.width>0&&_.height>0&&t&&(X.current||(X.current=(0,u.b)(t)),X.current.configure({gl:o,events:a,shadows:h,linear:p,flat:w,legacy:b,orthographic:m,frameloop:S,dpr:O,performance:C,raycaster:z,camera:R,scene:L,size:_,onPointerMissed:(...e)=>null==F.current?void 0:F.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(d?(0,u.i)(d)?d.current:d:W.current),v&&e.setEvents({compute:(e,t)=>{let n=e[v+"X"],r=e[v+"Y"];t.pointer.set(n/t.size.width*2-1,-(r/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==D||D(e)}}),X.current.render((0,i.jsx)(M,{children:(0,i.jsx)(u.E,{set:N,children:(0,i.jsx)(l.Suspense,{fallback:(0,i.jsx)(u.B,{set:B}),children:null!=e?e:null})})})))}),l.useEffect(()=>{let e=k.current;if(e)return()=>(0,u.d)(e)},[]);let q=d?"none":"auto";return(0,i.jsx)("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...r},...T,children:(0,i.jsx)("div",{ref:I,style:{width:"100%",height:"100%"},children:(0,i.jsx)("canvas",{ref:k,style:{display:"block"},children:t})})})}),C=l.forwardRef(function(e,t){return(0,i.jsx)(j,{children:(0,i.jsx)(O,{...e,ref:t})})});function z({all:e,scene:t,camera:n}){let r=(0,u.D)(({gl:e})=>e),o=(0,u.D)(({camera:e})=>e),i=(0,u.D)(({scene:e})=>e);return l.useLayoutEffect(()=>{let u=[];e&&(t||i).traverse(e=>{!1===e.visible&&(u.push(e),e.visible=!0)}),r.compile(t||i,n||o);let l=new s.WebGLCubeRenderTarget(128);new s.CubeCamera(.01,1e5,l).update(r,t||i),l.dispose(),u.forEach(e=>e.visible=!1)},[]),null}var R=n(3810);function L(e){let{...t}=e;return(0,i.jsxs)(C,{...t,onCreated:e=>e.gl.toneMapping=s.AgXToneMapping,children:[(0,i.jsx)(R.v.Out,{}),(0,i.jsx)(z,{all:!0})]})}},3810:function(e,t,n){n.d(t,{v:function(){return r}});let r=(0,n(3573).Z)()}}]);